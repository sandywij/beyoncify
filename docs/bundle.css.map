{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../src/App.svelte"
  ],
  "sourcesContent": [
    "<script>\n\timport * as d3 from \"d3\";\n\n\tlet svg;\n\tlet width = 500;\n\tlet height = 200;\n\n\n\tfunction loadData(){\n\t\tconst data = d3.csv('data.csv').then((d)=>{\n\n\t\t\tconst album = d3.nest()\n\t\t\t\t\t\t\t\t\t\t\t.key(function(d) { return d.album; })\n\t\t\t\t\t\t\t\t\t\t\t.entries(d);\n\t\t\treturn album;\n\t\t})\n\n\t\tconsole.log(data);\n\t\treturn data;\n\t}\n\n\tlet promise = loadData();\n\n\tconst qualities = [\"danceability\",\n\t\t\t\t\t\t\t\t\t\t\t\"energy\",\n\t\t\t\t\t\t\t\t\t\t\t\"valence\",\n\t\t\t\t\t\t\t\t\t\t\t\"speechiness\",\n\t\t\t\t\t\t\t\t\t\t\t\"acousticness\",\n\t\t\t\t\t\t\t\t\t\t\t\"instrumentalness\",\n\t\t\t\t\t\t\t\t\t\t\t]\n\n\tconst colors = [\"#d53e4f\", \"#fc8d59\",\n\"#e6f598\",\n\"#99d594\",\n\"#3288bd\",\n\"#756bb1\"]\n\n</script>\n\n<style>\n\n\t.legend {\n\t\talign-items: baseline;\n\t}\n\n\t.key {\n\t\tbackground-color: #FEE290;\n\t\twidth:100%;\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: space-around;\n\t\ttext-align: center;\n\t\tposition: -webkit-sticky; /* Safari */\n\t\tposition: sticky;\n\t\ttop: 0;\n\t}\n\n\n\n\n\t.viz-container {\n\t\twidth:100%;\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: space-around;\n\t\ttext-align: center;\n\t}\n\n\tline, rect {\n\t\tmix-blend-mode: multiply;\n\t}\n</style>\n\n<div class=\"main-container\">\n\t<div class=\"legend\">\n\t\t<p>key:</p>\n\n\t\t<div class=\"key\">\n\t\t\t{#each qualities as q, qi}\n\t\t\t<div id=q>\n\t\t\t\t<svg width=\"10\" height=\"10\">\n\t\t\t\t\t<rect width=\"10\" height=\"10\" fill={colors[qi]}></rect>\n\t\t\t\t</svg>\n\t\t\t\t<p>{q}</p>\n\t\t\t</div>\n\t\t\t{/each}\n\t\t</div>\n\n\t</div>\n\n\t<div class=\"viz-container\">\n\t\t{#await promise}\n\t\t\t<p>...loading</p>\n\t\t{:then data}\n\t\t{#each data as d, di}\n\t\t<div class=\"graphs\">\n\t\t<svg width =\"400\" height=\"400\">\n\t\t{#each d.values as v, i}\n\t\t<line x1=\"200\" x2=\"200\" y1=\"120\" y2={120-v.duration_ms/3000} stroke-width=\"2\" stroke=\"#A0A0A0\" transform=\"rotate({i/d.values.length * 360}  200 200)\"></line>\n\t\t\t{#each qualities as q, qi}\n\t\t\t<line x1={200 - v[q]*25} x2={200 + v[q]*25} y1={110-qi/6 * 3 * v.duration_ms/10000} y2={110-qi/6 * 3 * v.duration_ms/10000} stroke-width={v[q]*20} stroke={colors[qi]} transform=\"rotate({i/d.values.length * 360}  200 200)\"></line>\n\t\t\t{/each}\n\t\t{/each}\n\n\t\t<defs>\n\t\t\t\t<clipPath id=\"img-{di}\">\n\t\t\t\t\t \t<circle cx=\"200\" cy=\"200\" r=\"80\"></circle>\n\t\t\t\t</clipPath>\n\t\t </defs>\n\n\t\t <image width=\"160\" height=\"160\" x=\"120\" y=\"120\" xlink:href=\"img/{d.values[0].slug}.png\" clip-path=\"url(#img-{di})\" />\n\n\n\t\t</svg>\n\t\t\t<p>{d.key}</p>\n\t\t</div>\n\t\t{/each}\n\t\t{:catch error}\n\t\t\t<p style=\"color: red\">Didn't load :(</p>\n\t\t{/await}\n\t</div>\n\n</div>\n"
  ],
  "names": [],
  "mappings": "AAyCC,OAAO,eAAC,CAAC,AACR,WAAW,CAAE,QAAQ,AACtB,CAAC,AAED,IAAI,eAAC,CAAC,AACL,gBAAgB,CAAE,OAAO,CACzB,MAAM,IAAI,CACV,OAAO,CAAE,IAAI,CACb,SAAS,CAAE,IAAI,CACf,eAAe,CAAE,YAAY,CAC7B,UAAU,CAAE,MAAM,CAClB,QAAQ,CAAE,cAAc,CACxB,QAAQ,CAAE,MAAM,CAChB,GAAG,CAAE,CAAC,AACP,CAAC,AAKD,cAAc,eAAC,CAAC,AACf,MAAM,IAAI,CACV,OAAO,CAAE,IAAI,CACb,SAAS,CAAE,IAAI,CACf,eAAe,CAAE,YAAY,CAC7B,UAAU,CAAE,MAAM,AACnB,CAAC,AAED,mBAAI,CAAE,IAAI,eAAC,CAAC,AACX,cAAc,CAAE,QAAQ,AACzB,CAAC"
}